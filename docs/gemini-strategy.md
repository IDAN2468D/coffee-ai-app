# דוח אסטרטגי: Coffee AI עם Google Gemini 2.5
## מפת דרכים טכנולוגית מעודכנת - 2026

מסמך זה מתרגם את הדוח האסטרטגי המקורי לארכיטקטורה המבוססת כולה על הטכנולוגיות של Google DeepMind ומודלי Gemini, כדי לספק פתרון אחוד, מהיר ומשתלם יותר.

### 1. היפר-פרסונליזציה ומנועי טעם (Gemini Embeddings)
במקום מערכות מורכבות של Scikit-learn, נשתמש בכוח של **Gemini Text Embedding** ליצירת פרופיל הטעם.

*   **וקטוריזציה:** כל קפה יומר לווקטור באמצעות `text-embedding-004`. דגם זה מצטיין בהבנת ניואנסים סמנטיים (כמו ההבדל בין "חמוץ הדרים" ל"חמוץ פירות יער").
*   **התאמה אישית:** פרופיל המשתמש יהיה ממוצע משוקלל של וקטורי הקפה שהוא אהב.
*   **Gemini כשף:** שימוש ב-**Gemini 2.5 Pro** ליצירת מתכונים ("The Generative Chef"). המודל יקבל את פרופיל הטעם ויג'נרט מתכון JSON מדויק למכונה.

### 2. מסחר שיחתי וסוכן חכם (Gemini 2.5 Flash)
במקום לשלב בין Whisper (זיהוי דיבור) לבין GPT (לוגיקה), נשתמש ביכולות ה-**Multimodal** הטבעיות של Gemini.

*   **הזמנה קולית:** **Gemini 2.5 Flash** מסוגל לקבל קבצי אודיו ישירות (ללא צורך בתמלול נפרד לטקסט) ולהוציא פלט מובנה (JSON) של ההזמנה. זה מהיר יותר ומדויק יותר להבנת אינטונציה וסלנג ישראלי ("תעשה לי הפוך, אבל שיהיה רותח, טוב?").
*   **סוכן חכם (Agent):** הסוכן יבנה על בסיס ה-API של Gemini עם יכולות **Function Calling** מובנות לשליפת מלאי, ביצוע הזמנה ושינוי כתובת.

### 3. בינה ויזואלית וראייה ממוחשבת (Gemini Vision)
במקום מודלים מקומיים כבדים כמו TensorFlow.js/YOLO, נשתמש ב-API של Gemini לעיבוד תמונה.

*   **SeeFood (סריקת מאפים):** המשתמש מצלם את הוויטרינה -> התמונה נשלחת ל-**Gemini 2.5 Flash** (המהיר מאוד עם תמונות) -> המודל מזהה את המאפים + ממליץ על קפה תואם + נותן ערכים תזונתיים.
*   **Bean Rater (בקרת איכות):** צילום חופן פולים וניתוח דקדקני על ידי **Gemini 2.5 Pro** (המדויק יותר) לזיהוי פגמים ברמה של מומחה קפה.

### 4. לוגיסטיקה ואופטימיזציה
*   **ניתוח מלאי ויזואלי:** בריסטה מצלם את המקרר, Gemini סופר את בקבוקי החלב ומעדכן את המלאי.

---

## שלבי יישום (Roadmap)

### שלב 1: התשתית (Core AI)
- [x] התקנת `google/generative-ai` SDK.
- [ ] הגדרת `lib/gemini.ts` לניהול המודלים (Flash למהירות, Pro לדיוק/תמונה).
- [ ] יצירת API Route מרכזי לשיחות (Chat).

### שלב 2: "הבריסטה החכם" (Conversational Agent)
- [ ] בניית ממשק צ'אט (UI) צף או מסך מלא.
- [ ] חיבור ל-Gemini Flash עם System Prompt בעברית ("אתה בריסטה מומחה מתל אביב...").
- [ ] הגדרת "כלים" (Tools) שהמודל יכול להפעיל: `searchMenu`, `recommendCoffee`.

### שלב 3: מנוע הטעמים (Personality)
- [ ] יצירת שאלון העדפות קצר (Onboarding).
- [ ] הטמעת Embeddings לכל מוצרי הקפה בחנות.

### שלב 4: חוויה ויזואלית (Vision)
- [ ] פיצ'ר "צלם את הפולים שלי" לניתוח איכות.

---
**המלצה מיידית:** נתחיל עם **שלב 2 (הבריסטה החכם)** מכיוון שהוא הלב של "Coffee AI" ומחליף את הצורך בניווט רגיל בתפריטים.
